platform:
  version: "1.0.0"
  install_dir: "/opt/masterchief"
  config_dir: "/etc/masterchief"
  log_dir: "/var/log/masterchief"
  data_dir: "/var/lib/masterchief"

api:
  host: "0.0.0.0"
  port: 8443
  ssl: true

database:
  type: "postgresql"
  host: "localhost"
  port: 5432
  database: "masterchief"
  user: "masterchief"
  password: ""

monitoring:
  enabled: true
  prometheus_port: 9090
  grafana_port: 3000

security:
  cis_compliance: true
  firewall_enabled: true
  auto_updates: true

# Data Ingestion Configuration
ingestion:
  # Webhook receiver configuration
  webhooks:
    enabled: true
    port: 8080
    host: "0.0.0.0"
    secret: ""  # Set webhook secret for signature validation
    
  # API polling configuration
  api:
    enabled: true
    default_polling_interval: 60
    
  # File watching configuration
  files:
    enabled: true
    watch_directories:
      - "/var/log/masterchief"
      - "/opt/masterchief/data"
    
  # Database ingestion configuration
  database:
    enabled: true
    connections:
      postgres:
        type: "postgresql"
        connection_string: "postgresql://user:pass@localhost:5432/db"
      mysql:
        type: "mysql"
        connection_string: "mysql://user:pass@localhost:3306/db"
      
  # Streaming configuration
  streaming:
    enabled: true
    kafka:
      brokers:
        - "localhost:9092"
    rabbitmq:
      host: "localhost"
      port: 5672
      username: "guest"
      password: "guest"
    redis:
      host: "localhost"
      port: 6379
      
  # Log ingestion configuration
  logs:
    enabled: true
    default_format: "generic"
    
  # Metrics configuration
  metrics:
    enabled: true
    prometheus:
      host: "localhost"
      port: 9090
    influxdb:
      url: "http://localhost:8086"
      token: ""
      org: "masterchief"
  
addons:
  shoutcast:
    enabled: false
    port: 8000
  jamroom:
    enabled: false
    path: "/var/www/jamroom"
    
scripts:
  enabled: true
  max_execution_time: 300
  
  ai_generation:
    enabled: true
    ollama_url: "http://localhost:11434"
    model: "codellama"
    
  voice:
    enabled: true
    confirm_before_save: true
    read_back_script: true
    
  templates:
    directory: "./addons/scripts/templates/"
    custom_directory: "/var/lib/masterchief/custom_templates/"
    
  validation:
    enabled: true
    shellcheck: true
    block_dangerous: true
    require_validation: false
    
  scheduling:
    enabled: true
    max_execution_time: 300

voice:
  automation:
    enabled: false
    
    wake_word:
      engine: openwakeword  # openwakeword, porcupine, or whisper
      words:
        - "hey masterchief"
        - "hey chief"
        - "okay masterchief"
      sensitivity: 0.5
      
    conversation:
      timeout: 30  # seconds of silence before returning to passive
      context_window: 10  # turns to remember
      confirm_critical: true  # require confirmation for critical actions
      
    response:
      use_master_voice: false  # use cloned master voice
      speak_confirmations: true
      play_feedback_sounds: true
      
    commands:
      enabled:
        - scripts
        - deployments
        - monitoring
        - data
        - bot_control
        
    llm:
      model: mistral
      ollama_url: http://localhost:11434
    database: "/var/lib/masterchief/schedules.db"
    default_timezone: "UTC"
    max_concurrent: 5
    notification_channel: "#devops"
