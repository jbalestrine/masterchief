name: "azure-aks"
version: "1.0.0"
type: "terraform"
description: "Azure Kubernetes Service (AKS) cluster with configurable node pools"
author: "MasterChief Platform"

dependencies:
  - "azure-vnet"

inputs:
  resource_group_name:
    type: "string"
    description: "Name of the resource group"
    required: true
  location:
    type: "string"
    description: "Azure region"
    required: true
  cluster_name:
    type: "string"
    description: "AKS cluster name"
    required: true
  kubernetes_version:
    type: "string"
    description: "Kubernetes version"
    required: false
  subnet_id:
    type: "string"
    description: "Subnet ID for AKS nodes"
    required: true
  default_node_pool:
    type: "object"
    description: "Default node pool configuration"
    required: false
  additional_node_pools:
    type: "map(object)"
    description: "Additional node pools"
    required: false
  network_plugin:
    type: "string"
    description: "Network plugin (azure or kubenet)"
    required: false
  tags:
    type: "map(string)"
    description: "Tags to apply to resources"
    required: false

outputs:
  cluster_id:
    type: "string"
    description: "AKS cluster resource ID"
  cluster_name:
    type: "string"
    description: "AKS cluster name"
  kube_config:
    type: "object"
    description: "Kubernetes configuration"
  identity_principal_id:
    type: "string"
    description: "System-assigned identity principal ID"

metadata:
  category: "compute"
  azure_services:
    - "Azure Kubernetes Service"
  terraform_version: ">=1.5.0"
  provider_requirements:
    azurerm: ">=3.0.0"
